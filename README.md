# Random Meal Picker – Random meal picker for groups

A simple dApp that helps a group randomly pick a meal.  
The frontend is built with **Next.js + React + TypeScript**, and the smart contract is written in **IOTA Move** and deployed on an IOTA network (devnet/testnet).

---

## Features

- Connect to an **IOTA wallet** using `@iota/dapp-kit`.
- Let the user enter a numeric **seed** and call the Move function `pick_random`.
- The contract computes a pseudo-random index and creates a **`MealChoice`** object on-chain.
- The frontend:
  - Maps the index to a fixed list of meals (Sushi, Pizza, Burger, Phở, Salad, Curry).
  - Shows the chosen meal, the on-chain object ID, and the **transaction hash**.
- Remembers the last `MealChoice` for each wallet address using `localStorage`.

---

## Tech Stack

### Frontend

- **Next.js** (App Router, React, TypeScript)
- **@iota/dapp-kit** – wallet connection and RPC client
- **@iota/iota-sdk** – client & transaction builder
- **@radix-ui/themes** – UI components

### Smart Contract

- **Language:** IOTA Move
- **Module name:** `meal_picker`
- **Main entry function:** `pick_random(meal_count: u64, seed: u64, ctx: &mut TxContext)`
- **On-chain object:** `MealChoice` (stores chosen index, seed, and user address)

---

## Project Structure

```txt
random-meal-picker/
├─ app/
│  ├─ layout.tsx           # Root layout – wraps app with IOTA & UI providers
│  └─ page.tsx             # Main page – renders the Random Meal Picker UI
├─ components/
│  ├─ Provider.tsx         # IotaClientProvider + WalletProvider setup
│  └─ sample.tsx           # Main Random Meal Picker React component
├─ contract/
│  └─ random_meal_picker/
│     ├─ Move.toml         # Move package definition
│     └─ sources/
│        └─ meal_picker.move   # Move module with `pick_random`
├─ hooks/
│  └─ useContract.ts       # React hook to call `pick_random` and read MealChoice
├─ lib/
│  └─ config.ts            # Network + package IDs (DEVNET / TESTNET)
├─ prompts/
│  └─ prompt_*.md          # AI customization prompts generated by deploy script
├─ public/                 # Static assets
├─ scripts/
│  └─ iota-deploy-wrapper.js  # Helper script to build & publish Move contract
├─ INSTRUCTION_GUIDE.md    # Workshop instruction notes
├─ README.md               # Project description (this file)
├─ package.json
└─ tsconfig.json
